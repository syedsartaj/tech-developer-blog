@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --dark-bg: #0d1117;
  --dark-card: #161b22;
  --accent-green: #00ff88;
  --code-bg: #1c2128;
}

@layer base {
  body {
    @apply bg-dark-bg text-gray-100;
  }
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: var(--dark-bg);
}

::-webkit-scrollbar-thumb {
  background: #30363d;
  border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
  background: #484f58;
}

/* Code Block Syntax Highlighting */
.code-block {
  @apply bg-code-bg rounded-lg overflow-hidden;
}

.code-block pre {
  @apply p-6 overflow-x-auto font-mono text-sm leading-relaxed;
}

.code-block code {
  @apply font-mono;
}

/* Prism.js Dark Theme Override */
code[class*="language-"],
pre[class*="language-"] {
  color: #e6edf3;
  background: none;
  font-family: var(--font-jetbrains-mono), 'Courier New', monospace;
  font-size: 14px;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.6;
  tab-size: 2;
  hyphens: none;
}

pre[class*="language-"] {
  padding: 1.5rem;
  margin: 0;
  overflow: auto;
  background: var(--code-bg);
  border-radius: 0.5rem;
}

/* Syntax Highlighting Colors */
.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
  color: #8b949e;
  font-style: italic;
}

.token.namespace {
  opacity: 0.7;
}

.token.string,
.token.attr-value {
  color: #a5d6ff;
}

.token.punctuation,
.token.operator {
  color: #e6edf3;
}

.token.entity,
.token.url,
.token.symbol,
.token.number,
.token.boolean,
.token.variable,
.token.constant,
.token.property,
.token.regex,
.token.inserted {
  color: #79c0ff;
}

.token.atrule,
.token.keyword,
.token.attr-name,
.language-autohotkey .token.selector {
  color: #ff7b72;
}

.token.function,
.token.deleted,
.language-autohotkey .token.tag {
  color: #d2a8ff;
}

.token.tag,
.token.selector,
.language-autohotkey .token.keyword {
  color: #7ee787;
}

.token.important,
.token.function,
.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}

.token.class-name {
  color: #ffa657;
}

/* Line Numbers */
pre[class*="language-"].line-numbers {
  position: relative;
  padding-left: 3.8em;
  counter-reset: linenumber;
}

pre[class*="language-"].line-numbers > code {
  position: relative;
  white-space: inherit;
}

.line-numbers .line-numbers-rows {
  position: absolute;
  pointer-events: none;
  top: 0;
  font-size: 100%;
  left: -3.8em;
  width: 3em;
  letter-spacing: -1px;
  border-right: 1px solid #30363d;
  user-select: none;
}

.line-numbers-rows > span {
  display: block;
  counter-increment: linenumber;
}

.line-numbers-rows > span:before {
  content: counter(linenumber);
  color: #6e7681;
  display: block;
  padding-right: 0.8em;
  text-align: right;
}

/* Inline Code */
:not(pre) > code {
  @apply bg-code-bg text-accent-green px-2 py-1 rounded font-mono text-sm;
  border: 1px solid #30363d;
}

/* Selection */
::selection {
  background-color: rgba(0, 255, 136, 0.2);
  color: var(--accent-green);
}

/* Links */
a {
  @apply transition-colors;
}

/* Markdown Content Styles */
.prose {
  @apply max-w-none;
}

.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 {
  @apply text-gray-100 font-bold mt-8 mb-4;
}

.prose h1 {
  @apply text-4xl;
}

.prose h2 {
  @apply text-3xl;
}

.prose h3 {
  @apply text-2xl;
}

.prose p {
  @apply text-gray-300 leading-relaxed mb-4;
}

.prose ul,
.prose ol {
  @apply text-gray-300 ml-6 mb-4;
}

.prose li {
  @apply mb-2;
}

.prose blockquote {
  @apply border-l-4 border-accent-green pl-4 italic text-gray-400 my-4;
}

.prose img {
  @apply rounded-lg my-6;
}

.prose table {
  @apply w-full border-collapse my-6;
}

.prose th,
.prose td {
  @apply border border-gray-700 px-4 py-2;
}

.prose th {
  @apply bg-dark-card font-semibold;
}

/* Copy Code Button */
.code-block-wrapper {
  position: relative;
}

.copy-button {
  @apply absolute top-4 right-4 px-3 py-1.5 bg-dark-bg border border-gray-700 rounded text-sm text-gray-400 opacity-0 transition-opacity hover:text-accent-green hover:border-accent-green;
}

.code-block-wrapper:hover .copy-button {
  @apply opacity-100;
}

.copy-button.copied {
  @apply text-accent-green border-accent-green;
}

/* Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fade-in {
  animation: fadeIn 0.5s ease-out;
}

/* Loading Spinner */
.spinner {
  @apply inline-block w-5 h-5 border-2 border-gray-600 border-t-accent-green rounded-full animate-spin;
}

/* Focus States */
button:focus-visible,
a:focus-visible,
input:focus-visible,
textarea:focus-visible {
  @apply outline-none ring-2 ring-accent-green ring-offset-2 ring-offset-dark-bg;
}
